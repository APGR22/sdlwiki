<!-- pragma section-numbers off -->
<!-- pragma disable-camelcase -->
'''DRAFT'''

= SDL_Event =
A ,,structure,, ^union^ that contains the general event structure.


== Data Fields ==
{|
|Uint8
|'''type'''
|event type, shared with all events
|-
|[[SDL_WindowEvent]]
|'''window'''
|window event data
|-
|[[SDL_KeyboardEvent]]
|'''key'''
|keyboard event data
|-
|[[SDL_TextEditingEvent]]
|'''edit'''
|text editing event data
|-
|[[SDL_TextInputEvent]]
|'''text'''
|text input event data
|-
|[[SDL_MouseMotionEvent]]
|'''motion'''
|mouse motion event data
|-
|[[SDL_MouseButtonEvent]]
|'''button'''
|mouse button event data
|-
|[[SDL_MouseWheelEvent]]
|'''wheel'''
|mouse wheel event data
|-
|[[SDL_JoyAxisEvent]]
|'''jaxis'''
|joystick axis event data
|-
|[[SDL_JoyBallEvent]]
|'''jball'''
|joystick ball event data
|-
|[[SDL_JoyHatEvent]]
|'''jhat'''
|joystick hat event data
|-
|[[SDL_JoyButtonEvent]]
|'''jbutton'''
|joystick button event data
|-
|[[SDL_QuitEvent]]
|'''quit'''
|quit request event data
|-
|[[SDL_UserEvent]]
|'''user'''
|custom event data
|-
|[[SDL_SysWMEvent]]
|'''syswm'''
|system dependent window event data
|-
|[[SDL_ProximityEvent]]
|'''proximity'''
|proximity In or Out event
|}

== Code Examples ==
*
The [[SDL_Event]] structure has two uses:
* Reading events on the event queue
* Placing events on the event queue 

Reading events from the event queue is done with either [[SDL_PollEvent]] or [[SDL_PeepEvents]]. We'll use [[SDL_PollEvent]] and step through an example.

First off, we create an empty [[SDL_Event]] structure.
```c++
SDL_Event test_event;
```
[[SDL_PollEvent]] removes the next event from the event queue.  If there are no events on the queue it returns 0, otherwise it returns 1. We use a ```while``` loop to process each event in turn. 
```c++
while(SDL_PollEvent(&test_event)) {
```
The [[SDL_PollEvent]] function takes a pointer to an [[SDL_Event]] structure that is to be filled with event information. We know that if [[SDL_PollEvent]] removes an event from the queue then the event information will be placed in our test_event structure, but we also know that the type of event will be placed in the '''type''' member of test_event. So to handle each event type separately we use a ```switch``` statement.
```#!highlightcpp
  switch(test_event.type) {
```
We need to know what kind of events we're looking for and the event types of those events. So let's assume we want to detect where the user is moving the mouse pointer within our application. We look through our event types and notice that SDL_MOUSEMOTION is, more than likely, the event we're looking for. A little more research tells us that SDL_MOUSEMOTION events are handled within the [[SDL_MouseMotionEvent]] structure which is the '''motion''' member of [[SDL_Event]]. We can check for the SDL_MOUSEMOTION event '''type''' within our ```switch``` statement like so:
```c++
    case SDL_MOUSEMOTION:
```
All we need do now is read the information out of the '''motion''' member of test_event. 
```c++
      printf("We got a motion event.\n");
      printf("Current mouse position is: (%d, %d)\n", test_event.motion.x, test_event.motion.y);
      break;
    default:
      printf("Unhandled Event!\n");
      break;
  }
}
printf("Event queue empty.\n");
```

It is also possible to push events onto the event queue and so use it as a two-way communication path. Both [[SDL_PushEvent]] and [[SDL_PeepEvents]] allow you to place events onto the event queue. This is usually used to place a SDL_USEREVENT on the event queue, however you could use it to post fake input events if you wished. Creating your own events is a simple matter of choosing the event type you want, setting the '''type''' member and filling the appropriate member structure with information. 
```c++
SDL_Event user_event;

user_event.type=SDL_USEREVENT;
user_event.user.code=2;
user_event.user.data1=NULL;
user_event.user.data2=NULL;
SDL_PushEvent(&user_event);
```
*

== Remarks ==
''You can add useful comments here''

<<Color2(green,There is some backward compatibility info that is not currently included here.  See the header for more info.)>>

* 
The [[SDL_Event]] union is the core to all event handling in SDL; it's probably the most important structure after [[SDL_Surface]]. [[SDL_Event]] is a union of all event structures used in SDL, using it is a simple matter of knowing which union member relates to which event '''type'''. 

{|
|__Event type__
|__Event Structure__
|-
|SDL_ACTIVEEVENT
|[[SDL_ActiveEvent]]
|-
|SDL_KEYDOWN/UP
|[[SDL_KeyboardEvent]]
|-
|SDL_MOUSEMOTION
|[[SDL_MouseMotionEvent]]
|-
|SDL_MOUSEBUTTONDOWN/UP
|[[SDL_MouseButtonEvent]]
|-
|SDL_JOYAXISMOTION
|[[SDL_JoyAxisEvent]]
|-
|SDL_JOYBALLMOTION
|[[SDL_JoyBallEvent]]
|-
|SDL_JOYHATMOTION
|[[SDL_JoyHatEvent]]
|-
|SDL_JOYBUTTONDOWN/UP
|[[SDL_JoyButtonEvent]]
|-
|SDL_VIDEORESIZE
|[[SDL_ResizeEvent]]
|-
|SDL_VIDEOEXPOSE
|[[SDL_ExposeEvent]]
|-
|SDL_QUIT
|[[SDL_QuitEvent]]
|-
|SDL_USEREVENT
|[[SDL_UserEvent]]
|-
|SDL_SYSWMEVENT
|[[SDL_SysWMEvent]]
|}

<<Color2(green,SDL_MouseWheelEvent is missing)>>
*

== Related Enumerations ==
:[[SDL_scancode]] ???

== Related Structures ==
:[[SDL_StructureRemoveSectionIfEmpty]]

<<Color2(green,Should all the events.h structures be listed here?)>>

== Related Functions ==
:[[SDL_FilterEvents]] ???
:[[SDL_PeepEvents]]
:[[SDL_PollEvent]]
:[[SDL_PushEvent]]
:[[SDL_SetEventFilter]] ???
:[[SDL_WaitEvent]]
:[[SDL_WaitEventTimeout]]

----
[[CategoryStruct]]
